<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Doa</title>

    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, viewport-fit=cover" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="format-detection" content="telephone=no">

    <meta name="theme-color" content="#ffffff">
    <title>Hadits</title>
    <meta name="description" content="Hadits">
    <meta name="keywords"
        content="bootstrap 4, mobile template, 404, chat, about, cordova, phonegap, mobile, html, ecommerce, shopping, store, delivery, wallet, banking, education, jobs, careers, distance learning" />

    <!-- favicon -->
    <link rel="icon" type="image/png" href="assets/img/favicon/favicon2.png" sizes="32x32">
    <link rel="apple-touch-icon" href="assets/img/favicon/favicon2.png">

    <!-- CSS Libraries-->
    <!-- bootstrap v4.6.0 -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <!--
        theiconof v3.0
        https://www.theiconof.com/search
     -->

    <link rel="stylesheet" href="assets/css/icons.css">
    <!-- Remix Icon -->
    <link rel="stylesheet" href="assets/css/remixicon.css">
    <!-- Swiper 6.4.11 -->
    <link rel="stylesheet" href="assets/css/swiper-bundle.min.css">
    <!-- Owl Carousel v2.3.4 -->
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="assets/css/main.css">
    <!-- normalize.css v8.0.1 -->
    <link rel="stylesheet" href="assets/css/normalize.css">

    <!-- manifest meta -->
    <link rel="manifest" href="_manifest.json" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,500&display=swap" rel="stylesheet">

    <style>
      /* Definisi variabel warna */
      :root {
        --primary-color: #213555;
        --primary-hover: #0056b3;
        --background-color: #213555;
        --card-bg: white;
        --diamond-bg: #4f709c; /* Warna berlian */
        --text-color: #0056b3;
        --secondary-text: #9ca3af;
        --line-color: #2dd4bf; /* Warna garis kecil di bawah judul */
      }

      body {
        background-color: var(--background-color);
        color: var(--secondary-text);
        font-family: Arial, sans-serif;
        margin: 20px;
        padding: 20px;
      }

      /* Container utama */
      #doa-container {
        background: var(--card-bg);
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
        margin-bottom: 30px;
      }

      h2 {
        text-align: center;
        color: var(--primary-color);
        font-weight: bold;
      }

      a {
        color: var(--text-color);
        text-decoration: none;
        font-weight: 500;
      }
      a:hover {
        color: var(--primary-hover);
        text-decoration: underline;
      }

      /* Gaya pagination */
      .pagination .page-link {
        background: var(--card-bg);
        color: var(--text-color);
        border: 1px solid var(--primary-color);
      }
      .pagination .page-item.active .page-link {
        background: var(--primary-color);
        border-color: var(--primary-color);
        color: var(--card-bg);
      }

      #searchInput {
        width: 100%;
        border-radius: 10px;
        border-color: #213555;
        max-width: 400px;
        margin-top: 10px;
        margin-bottom: 10px;
        margin-left: auto;
        margin-right: auto;
        display: block;
      }

      /* Gaya untuk modal */
      .modal-header {
        background: var(--primary-color);
        color: var(--card-bg);
      }
      .modal-content {
        border-radius: 10px;
      }
      /* Mengatur modal agar lebarnya 80% dari layar desktop */
      .modal-dialog {
        max-width: 60% !important;
      }

      .doa-arab {
        font-size: 30px;
        margin-bottom: 10px;
        text-align: right;
        font-weight: bold;
        color: black;
      }
      .latin {
        text-align: left;
        font-size: 15px;
        margin-top: 10px;
        margin-bottom: 10px;
        color: #0056b3;
        font-style: italic;
      }
      .indo {
        text-align: left;
        font-size: 15px;
        margin-top: 10px;
        margin-bottom: 10px;
        color: black;
      }
      .sumber {
        text-align: right;
        font-size: 15px;
        margin-top: 10px;
        color: grey;
      }
      /* Gaya kartu doa */
      .card {
        background: #eff3ea;
        height: 150px;
        transition: transform 0.2s;
        cursor: pointer;
      }
      .card:hover {
        transform: scale(1.02);
      }

      /* Diamond (belah ketupat) untuk menampilkan nomor */
      .diamond {
        width: 40px;
        height: 40px;
        background-color: var(--diamond-bg);
        transform: rotate(45deg);
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
        flex-shrink: 0;
      }

      .diamond span {
        color: #fff;
        font-weight: bold;
        transform: rotate(-45deg);
        display: block;
        font-size: 14px;
        line-height: 1;
        white-space: nowrap;
        text-overflow: ellipsis;
        overflow: hidden;
        text-align: center;
      }

      /* Gaya judul di dalam card */
      .card-title {
        font-weight: bold;
        color: var(--text-color);
        font-weight: 600;
        margin: 0;
      }

      /* Garis kecil di bawah judul */
      .small-line {
        width: 70px;
        height: 2px;
        background-color: var(--line-color);
        margin: 4px 0;
      }

      /* Media query untuk perangkat mobile */
      @media (max-width: 768px) {
        body {
          margin: 10px;
          padding: 10px;
        }
        /* Ubah modal agar lebarnya mendekati full width */
        .modal-dialog {
          max-width: 100% !important;
        }
        .doa-arab {
          font-size: 24px;
        }
        .latin,
        .indo,
        .sumber {
          font-size: 14px;
        }
        /* Pastikan kartu doa menyesuaikan tingginya */
        .card {
          height: auto;
          padding: 10px;
        }
      }
    </style>
  </head>
  <body>
    <div id="app">
      <!-- Container Utama -->
      <div id="doa-container">
        <h2>Daftar Doa</h2>
        <!-- Form Pencarian -->
        <div class="form-group">
          <div class="input-group">
            <div class="input-group-prepend"></div>
            <input
              type="text"
              id="searchInput"
              class="form-control"
              placeholder="Masukkan kata kunci..."
              v-model="searchQuery"
            />
          </div>
        </div>
        <div class="row">
          <!-- Menambahkan class col-12 agar full-width di mobile -->
          <div
            class="col-12 col-md-4 mb-3"
            v-for="doa in paginatedDoas"
            :key="doa.id"
          >
            <div class="card" @click.prevent="openDetailModal(doa.id)">
              <div class="card-body d-flex align-items-center">
                <!-- Diamond -->
                <div class="diamond mr-3">
                  <span>{{ doa.id }}</span>
                </div>
                <div>
                  <!-- Judul -->
                  <h5 class="card-title mb-0">{{ doa.judul }}</h5>
                  <!-- Garis kecil -->
                  <div class="small-line"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Navigasi halaman -->
        <nav>
          <ul class="pagination">
            <li class="page-item" :class="{ disabled: currentPage === 1 }">
              <a class="page-link" href="#" @click.prevent="previousPage"
                >Prev</a
              >
            </li>
            <li
              class="page-item"
              v-for="page in pages"
              :key="page"
              :class="{ active: page === currentPage }"
            >
              <a class="page-link" href="#" @click.prevent="goToPage(page)"
                >{{ page }}</a
              >
            </li>
            <li
              class="page-item"
              :class="{ disabled: currentPage === totalPages }"
            >
              <a class="page-link" href="#" @click.prevent="nextPage">Next</a>
            </li>
          </ul>
        </nav>
      </div>

      <!-- Modal Detail Doa -->
      <div
        class="modal fade"
        id="detailModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="detailModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">{{ detail.judul }}</h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Tutup"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <p class="doa-arab">{{ detail.arab }}</p>
              <p class="latin">{{ detail.latin }}</p>
              <p class="indo">{{ detail.indo }}</p>
              <p class="sumber"><strong>Sumber:</strong> {{ detail.source }}</p>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                Tutup
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal Doa Tersimpan -->
      <div
        class="modal fade"
        id="savedDoasModal"
        tabindex="-1"
        role="dialog"
        aria-labelledby="savedDoasModalLabel"
        aria-hidden="true"
      >
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Doa Tersimpan</h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Tutup"
              >
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <ul>
                <li v-for="savedDoa in savedDoas" :key="savedDoa.id">
                  <a href="#" @click.prevent="goToSavedDoa(savedDoa)"
                    >{{ savedDoa.judul }}</a
                  >
                </li>
              </ul>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-dismiss="modal"
              >
                Tutup
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- sidebar bawah -->
    <div class="modal sidebarMenu -left fade" id="mdllSidebarMenu-background" tabindex="-1" aria-labelledby="exampleModalLabel" style="display: none;" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header d-block">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="tio-clear"></i>
                    </button>
                    <div class="em_profile_user">
                        <div class="media">
                            <a href="page-profile.html">
                                <!-- You can use an image -->
                                <!-- <img class="_imgUser" src="assets/img/person.png" alt=""> -->
                                <div class="letter bg-yellow">
                                    <span>c</span>
                                </div>
                            </a>
                            <div class="media-body">
                                <div class="txt">
                                    <h3>Calvin Bell</h3>
                                    <p>+1 6540 605 490</p>
                                    <a href="#" class="btn btn_logOut">Sign out</a>
                                </div>
                            </div>
                        </div>
                    </div>
    
                </div>
                <div class="modal-body">
                    <ul class="nav flex-column -active-links">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">
                                <div class="">
                                    <div class="icon_current">
                                        <svg id="Iconly_Curved_Discovery" data-name="Iconly/Curved/Discovery" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                                            <g id="Discovery" transform="translate(2.292 2.292)">
                                                <path id="Stroke_1" data-name="Stroke 1" d="M0,7.708c0,5.781,1.927,7.708,7.708,7.708s7.708-1.927,7.708-7.708S13.489,0,7.708,0,0,1.927,0,7.708Z" transform="translate(0 0)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                                <path id="Stroke_3" data-name="Stroke 3" d="M0,5.5,1.312,1.312,5.5,0,4.192,4.191Z" transform="translate(4.957 4.957)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                            </g>
                                        </svg>
                                    </div>
                                    <span class="title_link">Discover</span>
                                </div>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="app-homes.html">
                                <div class="">
                                    <div class="icon_current">
                                        <svg id="Iconly_Curved_Home" data-name="Iconly/Curved/Home" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                                            <g id="Home" transform="translate(2 1.667)">
                                                <path id="Stroke_1" data-name="Stroke 1" d="M0,.5H4.846" transform="translate(5.566 11.28)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                                <path id="Stroke_2" data-name="Stroke 2" d="M0,9.761C0,5.068.512,5.4,3.266,2.842,4.471,1.872,6.346,0,7.965,0S11.5,1.862,12.712,2.842c2.754,2.554,3.265,2.227,3.265,6.919,0,6.906-1.633,6.906-7.988,6.906S0,16.667,0,9.761Z" transform="translate(0)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                            </g>
                                        </svg>
                                    </div>
                                    <span class="title_link">Homepages</span>
                                </div>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="app-components.html">
                                <div class="">
                                    <div class="icon_current">
                                        <svg id="Iconly_Curved_More_Circle" data-name="Iconly/Curved/More Circle" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                                            <g id="More_Circle" data-name="More Circle" transform="translate(2.292 2.292)">
                                                <path id="Stroke_4" data-name="Stroke 4" d="M0,7.708C0,1.927,1.927,0,7.708,0s7.708,1.927,7.708,7.708-1.927,7.708-7.708,7.708S0,13.489,0,7.708Z" transform="translate(0 0)" fill="none" stroke="#556fff" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                                <path id="Stroke_11" data-name="Stroke 11" d="M.5.5H.5" transform="translate(9.883 8.792)" fill="none" stroke="#556fff" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></path>
                                                <path id="Stroke_13" data-name="Stroke 13" d="M.5.5H.5" transform="translate(7.383 5.458)" fill="none" stroke="#556fff" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></path>
                                                <path id="Stroke_15" data-name="Stroke 15" d="M.5.5H.5" transform="translate(4.876 8.792)" fill="none" stroke="#556fff" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></path>
                                            </g>
                                        </svg>
                                    </div>
                                    <span class="title_link">Components</span>
                                </div>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="app-pages.html">
                                <div class="">
                                    <div class="icon_current">
                                        <svg id="Iconly_Curved_Document" data-name="Iconly/Curved/Document" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                                            <g id="Document" transform="translate(3.008 2.292)">
                                                <path id="Stroke_1" data-name="Stroke 1" d="M6.017.5H0" transform="translate(3.971 10.289)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                                <path id="Stroke_2" data-name="Stroke 2" d="M6.017.5H0" transform="translate(3.971 7.155)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                                <path id="Stroke_3" data-name="Stroke 3" d="M2.3.5H0" transform="translate(3.972 4.023)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                                <path id="Stroke_4" data-name="Stroke 4" d="M0,7.708c0,5.781,1.748,7.708,6.992,7.708s6.992-1.927,6.992-7.708S12.238,0,6.992,0,0,1.927,0,7.708Z" transform="translate(0)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                            </g>
                                        </svg>
                                    </div>
    
                                    <span class="title_link">Pages</span>
                                </div>
    
                            </a>
                        </li>
                        <label class="title__label">other</label>
                        <li class="nav-item">
                            <a class="nav-link" href="page-profile.html">
                                <div class="">
                                    <div class="icon_current">
                                        <svg id="Iconly_Curved_Setting" data-name="Iconly/Curved/Setting" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                                            <g id="Setting" transform="translate(2.917 2.083)">
                                                <path id="Stroke_1" data-name="Stroke 1" d="M2.083,0A2.083,2.083,0,1,1,0,2.083,2.083,2.083,0,0,1,2.083,0Z" transform="translate(5 5.833)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                                <path id="Stroke_3" data-name="Stroke 3" d="M13.89,3.959h0a2.053,2.053,0,0,0-2.816-.76A1.286,1.286,0,0,1,9.145,2.077,2.07,2.07,0,0,0,7.083,0h0A2.07,2.07,0,0,0,5.021,2.077,1.286,1.286,0,0,1,3.093,3.2a2.054,2.054,0,0,0-2.817.76A2.085,2.085,0,0,0,1.031,6.8a1.3,1.3,0,0,1,0,2.243,2.085,2.085,0,0,0-.755,2.837,2.054,2.054,0,0,0,2.816.761h0a1.285,1.285,0,0,1,1.928,1.121h0a2.07,2.07,0,0,0,2.062,2.077h0a2.07,2.07,0,0,0,2.062-2.077h0a1.286,1.286,0,0,1,1.929-1.121,2.054,2.054,0,0,0,2.816-.761,2.085,2.085,0,0,0-.754-2.837h0a1.3,1.3,0,0,1,0-2.243A2.085,2.085,0,0,0,13.89,3.959Z" transform="translate(0)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                            </g>
                                        </svg>
                                    </div>
                                    <span class="title_link">Settings</span>
                                </div>
                                <div class="em_pulp">
                                    <span class="doted_item"></span>
                                </div>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="page-support.html">
                                <div class="">
                                    <div class="icon_current">
                                        <svg id="Iconly_Curved_Message" data-name="Iconly/Curved/Message" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                                            <g id="Message" transform="translate(2.043 2.377)">
                                                <path id="Stroke_1" data-name="Stroke 1" d="M9.292,0S6.617,3.211,4.661,3.211,0,0,0,0" transform="translate(3.285 5.139)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                                <path id="Stroke_3" data-name="Stroke 3" d="M0,7.6C0,1.9,1.984,0,7.937,0s7.937,1.9,7.937,7.6-1.984,7.6-7.937,7.6S0,13.295,0,7.6Z" transform="translate(0 0)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                            </g>
                                        </svg>
                                    </div>
                                    <span class="title_link">Support</span>
                                </div>
    
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="page-about.html">
                                <div class="">
                                    <div class="icon_current">
                                        <svg id="Iconly_Curved_Info_Square" data-name="Iconly/Curved/Info Square" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                                            <g id="Info_Square" data-name="Info Square" transform="translate(2.292 2.292)">
                                                <path id="Stroke_1" data-name="Stroke 1" d="M0,7.708C0,1.927,1.927,0,7.708,0s7.708,1.927,7.708,7.708-1.927,7.708-7.708,7.708S0,13.489,0,7.708Z" transform="translate(15.417 15.417) rotate(180)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                                <path id="Stroke_3" data-name="Stroke 3" d="M0,0V3.246" transform="translate(7.708 10.954) rotate(180)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                                <path id="Stroke_15" data-name="Stroke 15" d="M0,0H.007" transform="translate(7.712 4.792) rotate(180)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                            </g>
                                        </svg>
                                    </div>
                                    <span class="title_link">About</span>
                                </div>
    
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="modal-footer">
                    <div class="em_darkMode_menu">
                        <label class="text" for="switchDarkMode">
                            <h3>Dark Mode</h3>
                            <p>Browsing in night mode</p>
                        </label>
                        <label class="switch_toggle toggle_lg" for="switchDarkMode">
                            <input type="checkbox" class="switchDarkMode" id="switchDarkMode">
                            <span class="handle"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="em_main_footer ouline_footer with__text">
        <div class="em_body_navigation -active-links">
            <div class="item_link">
                <a href="app-pages.html" class="btn btn_navLink">
                    <div class="icon_current">
                        <svg id="Iconly_Curved_Document" data-name="Iconly/Curved/Document" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                            <g id="Document" transform="translate(3.61 2.75)">
                                <path id="Stroke_1" data-name="Stroke 1" d="M7.22.5H0" transform="translate(4.766 12.446)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                <path id="Stroke_2" data-name="Stroke 2" d="M7.22.5H0" transform="translate(4.766 8.686)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                <path id="Stroke_3" data-name="Stroke 3" d="M2.755.5H0" transform="translate(4.766 4.927)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                <path id="Stroke_4" data-name="Stroke 4" d="M0,9.25c0,6.937,2.1,9.25,8.391,9.25s8.391-2.313,8.391-9.25S14.685,0,8.391,0,0,2.313,0,9.25Z" transform="translate(0)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                            </g>
                        </svg>
                    </div>
                    <div class="txt__tile">Pages</div>
                </a>
            </div>
            <div class="item_link">
                <a href="app-components.html" class="btn btn_navLink">
                    <div class="icon_current">
                        <svg id="Iconly_Curved_More_Circle" data-name="Iconly/Curved/More Circle" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                            <g id="More_Circle" data-name="More Circle" transform="translate(2 2)">
                                <path id="Stroke_4" data-name="Stroke 4" d="M0,9.25C0,2.313,2.313,0,9.25,0S18.5,2.313,18.5,9.25,16.187,18.5,9.25,18.5,0,16.187,0,9.25Z" transform="translate(0.75 0.75)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                <path id="Stroke_11" data-name="Stroke 11" d="M.5.5H.5" transform="translate(12.709 11.4)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></path>
                                <path id="Stroke_13" data-name="Stroke 13" d="M.5.5H.5" transform="translate(9.709 7.4)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></path>
                                <path id="Stroke_15" data-name="Stroke 15" d="M.5.5H.5" transform="translate(6.7 11.4)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="2"></path>
                            </g>
                        </svg>
                    </div>
      
                    <div class="txt__tile">Elements</div>
                </a>
            </div>
            <div class="item_link">
                <a href="index.html" class="btn btn_navLink without_active">
                    <button type="button" class="btn btnCircle_default rounded-10">
                        <svg id="Iconly_Curved_Home" data-name="Iconly/Curved/Home" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">
                            <g id="Home" transform="translate(2 1.667)">
                                <path id="Stroke_1" data-name="Stroke 1" d="M0,.5H4.846" transform="translate(5.566 11.28)" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                <path id="Stroke_2" data-name="Stroke 2" d="M0,9.761C0,5.068.512,5.4,3.266,2.842,4.471,1.872,6.346,0,7.965,0S11.5,1.862,12.712,2.842c2.754,2.554,3.265,2.227,3.265,6.919,0,6.906-1.633,6.906-7.988,6.906S0,16.667,0,9.761Z" transform="translate(0)" fill="none" stroke="#fff" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                            </g>
                        </svg>
      
                    </button>
                </a>
            </div>
            <div class="item_link">
                <a href="page-products-fullwidth.html" class="btn btn_navLink">
                    <div class="icon_current">
                        <svg id="Iconly_Curved_Bag" data-name="Iconly/Curved/Bag" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                            <g id="Bag" transform="translate(2.95 2.55)">
                                <path id="Stroke_1" data-name="Stroke 1" d="M8.659,4.32A4.33,4.33,0,0,0,0,4.3V4.32" transform="translate(4.755 0)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                <path id="Stroke_3" data-name="Stroke 3" d="M.523.5H.477" transform="translate(11.5 8.324)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                <path id="Stroke_5" data-name="Stroke 5" d="M.523.5H.477" transform="translate(5.669 8.324)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                <path id="Stroke_7" data-name="Stroke 7" d="M9.084,14.934c-6.508,0-7.257-2.05-8.718-7.467C-1.1,2.033,1.841,0,9.084,0S19.268,2.033,17.8,7.467C16.341,12.884,15.592,14.934,9.084,14.934Z" transform="translate(0 4.006)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                            </g>
                        </svg>
                    </div>
                    <div class="items_basket_circle">2</div>
                    <div class="txt__tile">Shop</div>
                </a>
            </div>
            <div class="item_link">
                <a href="page-profile.html" class="btn btn_navLink">
                    <div class="icon_current">
                        <svg id="Iconly_Curved_Setting" data-name="Iconly/Curved/Setting" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                            <g id="Setting" transform="translate(3.5 2.5)">
                                <path id="Stroke_1" data-name="Stroke 1" d="M2.5,0A2.5,2.5,0,1,1,0,2.5,2.5,2.5,0,0,1,2.5,0Z" transform="translate(6 7)" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                                <path id="Stroke_3" data-name="Stroke 3" d="M16.668,4.75h0a2.464,2.464,0,0,0-3.379-.912,1.543,1.543,0,0,1-2.314-1.346A2.484,2.484,0,0,0,8.5,0h0A2.484,2.484,0,0,0,6.025,2.492,1.543,1.543,0,0,1,3.712,3.839a2.465,2.465,0,0,0-3.38.912,2.5,2.5,0,0,0,.906,3.4,1.56,1.56,0,0,1,0,2.692,2.5,2.5,0,0,0-.906,3.4,2.465,2.465,0,0,0,3.379.913h0a1.542,1.542,0,0,1,2.313,1.345h0A2.484,2.484,0,0,0,8.5,19h0a2.484,2.484,0,0,0,2.474-2.492h0a1.543,1.543,0,0,1,2.314-1.345,2.465,2.465,0,0,0,3.379-.913,2.5,2.5,0,0,0-.905-3.4h0a1.56,1.56,0,0,1,0-2.692A2.5,2.5,0,0,0,16.668,4.75Z" fill="none" stroke="#9498ac" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10" stroke-width="1.5"></path>
                            </g>
                        </svg>
      
                    </div>
      
                    <div class="txt__tile">Settings</div>
                </a>
            </div>
        </div>
      </footer>
  </div>

    <!-- jQuery, Popper, Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- <script src="/assets/js/script_doa.js"></script> -->
    <script>
      var app = new Vue({
        el: "#app",
        data: {
          allDoas: [],
          detail: {
            id: null,
            judul: "Data Tidak Ditemukan",
            arab: "",
            latin: "(Latin tidak tersedia)",
            indo: "",
            source: "Sumber Tidak Tersedia",
          },
          loading: false,
          loading2: false,
          copied: false,
          savedDoas: [],
          searchQuery: "",
          currentPage: 1,
          itemsPerPage: 9,
          showVoicePopup: false,
          voiceText: "",
          showShareOptions: false,
          shareText: "",
        },
        computed: {
          filteredDoas() {
            let filtered = this.allDoas;
            if (this.searchQuery) {
              const query = this.searchQuery
                .toLowerCase()
                .replace(/[\s-]/g, "");
              filtered = filtered.filter((d) => {
                const judulNormalized = d.judul
                  .toLowerCase()
                  .replace(/[\s-]/g, "");
                const arabNormalized = d.arab
                  .toLowerCase()
                  .replace(/[\s-]/g, "");
                const indoNormalized = d.indo
                  .toLowerCase()
                  .replace(/[\s-]/g, "");
                const sourceNormalized = d.source
                  .toLowerCase()
                  .replace(/[\s-]/g, "");
                return (
                  judulNormalized.includes(query) ||
                  arabNormalized.includes(query) ||
                  indoNormalized.includes(query) ||
                  sourceNormalized.includes(query)
                );
              });
            }
            return filtered;
          },
          totalPages() {
            return Math.ceil(this.filteredDoas.length / this.itemsPerPage);
          },
          paginatedDoas() {
            const start = (this.currentPage - 1) * this.itemsPerPage;
            const end = start + this.itemsPerPage;
            return this.filteredDoas.slice(start, end);
          },
          pages() {
            const pages = [];
            const total = this.totalPages;
            const current = this.currentPage;
            const maxVisible = 2;

            if (total <= 6) {
              for (let i = 1; i <= total; i++) {
                pages.push(i);
              }
              return pages;
            }

            pages.push(1);
            let start = current - maxVisible;
            let end = current + maxVisible;
            if (start < 2) start = 2;
            if (end > total - 1) end = total - 1;
            if (start > 2) pages.push("...");
            for (let i = start; i <= end; i++) {
              pages.push(i);
            }
            if (end < total - 1) pages.push("...");
            pages.push(total);
            return pages;
          },
          currentIndex() {
            return this.filteredDoas.findIndex((d) => d.id === this.detail.id);
          },
          hasPrev() {
            return this.currentIndex > 0;
          },
          hasNext() {
            return (
              this.currentIndex >= 0 &&
              this.currentIndex < this.filteredDoas.length - 1
            );
          },
        },
        methods: {
          refreshPage() {
            window.location.reload();
          },
          arabicToLatin(arabicText) {
            const arabicToLatinMap = {
              ا: "a",
              ب: "b",
              ت: "t",
              ث: "th",
              ج: "j",
              ح: "h",
              خ: "kh",
              د: "d",
              ذ: "dh",
              ر: "r",
              ز: "z",
              س: "s",
              ش: "sh",
              ص: "s",
              ض: "d",
              ط: "t",
              ظ: "z",
              ع: "'a",
              غ: "gh",
              ف: "f",
              ق: "q",
              ك: "k",
              ل: "l",
              م: "m",
              ن: "n",
              ه: "h",
              و: "w",
              ي: "y",
              ء: "'",
              آ: "aa",
              إ: "i",
              أ: "a",
              ؤ: "u",
              ئ: "i",
              "َ": "a",
              "ِ": "i",
              "ُ": "u",
              "ً": "an",
              "ٍ": "in",
              "ٌ": "un",
              "ْ": "",
              "ّ": "",
            };
            let latin = "";
            for (let char of arabicText) {
              latin += arabicToLatinMap[char] || char;
            }
            latin = latin.replace(/[\u064B-\u065F]/g, "");
            latin = latin.trim();
            latin = latin
              .split(" ")
              .map((word) => word.charAt(0).toUpperCase() + word.slice(1))
              .join(" ");
            return latin;
          },
          fetchAllDoas() {
            this.loading = true;
            const promises = [];
            for (let i = 1; i <= 108; i++) {
              const url = `https://api.myquran.com/v2/doa/${i}`;
              promises.push(
                fetch(url)
                  .then((response) => response.json())
                  .then((res) => {
                    if (
                      res &&
                      res.status === true &&
                      res.data &&
                      res.data.arab &&
                      res.data.indo
                    ) {
                      return {
                        id: i,
                        judul: res.data.judul || `Doa ${i}`,
                        arab: res.data.arab,
                        latin: this.arabicToLatin(res.data.arab),
                        indo: res.data.indo,
                        source: res.data.source || "Sumber Tidak Tersedia",
                      };
                    }
                    return null;
                  })
                  .catch((err) => {
                    console.error(`Error fetching doa ${i}:`, err);
                    return null;
                  })
              );
            }
            Promise.all(promises)
              .then((results) => {
                this.allDoas = results.filter((doa) => doa !== null);
                this.loading = false;
              })
              .catch((err) => {
                console.error("Error fetching all doas:", err);
                this.loading = false;
                alert("Gagal memuat daftar doa. Silakan coba lagi.");
              });
          },
          getDetail(doaId) {
            this.loading2 = true;
            this.detail = {
              id: doaId,
              judul: "Memuat...",
              arab: "",
              latin: "(Latin tidak tersedia)",
              indo: "",
              source: "Sumber Tidak Tersedia",
            };
            const url = `https://api.myquran.com/v2/doa/${doaId}`;
            fetch(url)
              .then((response) => response.json())
              .then((res) => {
                if (
                  res &&
                  res.status === true &&
                  res.data &&
                  res.data.arab &&
                  res.data.indo
                ) {
                  this.detail = {
                    id: doaId,
                    judul: res.data.judul || "Judul Tidak Tersedia",
                    arab: res.data.arab,
                    latin: this.arabicToLatin(res.data.arab),
                    indo: res.data.indo,
                    source: res.data.source || "Sumber Tidak Tersedia",
                  };
                } else {
                  this.detail = {
                    id: doaId,
                    judul: "Data Tidak Ditemukan",
                    arab: "",
                    latin: "(Latin tidak tersedia)",
                    indo: "",
                    source: "Sumber Tidak Tersedia",
                  };
                }
                this.loading2 = false;
              })
              .catch((err) => {
                console.error("Error fetching doa detail:", err);
                this.detail = {
                  id: doaId,
                  judul: "Gagal Memuat Data",
                  arab: "",
                  latin: "(Latin tidak tersedia)",
                  indo: "",
                  source: "Sumber Tidak Tersedia",
                };
                this.loading2 = false;
                alert("Gagal memuat detail doa. Silakan coba lagi.");
              });
          },
          openDetailModal(doaId) {
            const validDoa = this.allDoas.find((doa) => doa.id === doaId);
            if (validDoa) {
              this.getDetail(doaId);
              const checkLoading = setInterval(() => {
                if (!this.loading2) {
                  clearInterval(checkLoading);
                  $("#detailModal").modal("show");
                }
              }, 100);
            } else {
              alert("ID Doa tidak valid atau data tidak tersedia.");
            }
          },
          copyDoa() {
            if (this.detail.arab) {
              let text = `${this.detail.judul}\nArab: ${this.detail.arab}\nLatin: ${this.detail.latin}\nTerjemahan: ${this.detail.indo}`;
              navigator.clipboard.writeText(text).then(() => {
                this.copied = true;
                setTimeout(() => (this.copied = false), 1000);
              });
            } else {
              alert("Tidak ada data yang dapat disalin.");
            }
          },
          shareDoa() {
            if (this.detail.arab) {
              this.shareText = `${this.detail.judul}\n\nArab: ${this.detail.arab}\n\nLatin: ${this.detail.latin}\n\nTerjemahan: ${this.detail.indo}\n\n(Dibagikan dari Doa Digital)`;
              if (navigator.share) {
                navigator
                  .share({
                    title: this.detail.judul,
                    text: this.shareText,
                  })
                  .then(() => {
                    console.log("Doa berhasil dibagikan");
                  })
                  .catch((error) => {
                    console.error("Error sharing:", error);
                  });
              } else {
                this.showShareOptions = true;
              }
            } else {
              alert("Tidak ada data yang dapat dibagikan.");
            }
          },
          copyShareText() {
            navigator.clipboard
              .writeText(this.shareText)
              .then(() => {
                alert("Teks doa telah disalin ke clipboard.");
              })
              .catch((err) => {
                console.error("Gagal menyalin teks:", err);
              });
          },
          toggleSaveDoa(doa) {
            if (doa.arab) {
              const key = doa.id;
              const index = this.savedDoas.findIndex((d) => d.id === key);
              if (index >= 0) {
                this.savedDoas.splice(index, 1);
              } else {
                this.savedDoas.push({
                  id: doa.id,
                  judul: doa.judul,
                  arab: doa.arab,
                  latin: doa.latin,
                  indo: doa.indo,
                  source: doa.source,
                });
              }
              this.saveDoas();
            } else {
              alert("Data doa tidak valid untuk disimpan.");
            }
          },
          isDoaSaved(doa) {
            return this.savedDoas.some((d) => d.id === doa.id);
          },
          showSavedDoasModal() {
            $("#savedDoasModal").modal("show");
          },
          goToSavedDoa(doa) {
            $("#savedDoasModal").modal("hide");
            this.openDetailModal(doa.id);
          },
          previousPage() {
            if (this.currentPage > 1) this.currentPage--;
          },
          nextPage() {
            if (this.currentPage < this.totalPages) this.currentPage++;
          },
          goToPage(page) {
            if (page === "...") return;
            if (page >= 1 && page <= this.totalPages) {
              this.currentPage = page;
            }
          },
          prevDoa() {
            if (this.hasPrev) {
              this.openDetailModal(this.filteredDoas[this.currentIndex - 1].id);
            }
          },
          nextDoa() {
            if (this.hasNext) {
              this.openDetailModal(this.filteredDoas[this.currentIndex + 1].id);
            }
          },
          startVoiceSearch() {
            if (!("webkitSpeechRecognition" in window)) {
              alert("Browser Anda tidak mendukung fitur pencarian suara.");
              return;
            }
            const recognition = new webkitSpeechRecognition();
            recognition.lang = "id-ID";
            recognition.continuous = false;
            recognition.interimResults = true;

            this.showVoicePopup = true;
            this.voiceText = "Mendengarkan...";
            document.body.classList.remove("modal-open");
            if (document.querySelector(".modal-backdrop")) {
              document.querySelector(".modal-backdrop").remove();
            }

            recognition.onresult = (event) => {
              const interimTranscript = Array.from(event.results)
                .map((result) => result[0].transcript)
                .join("");
              this.voiceText = interimTranscript || "Mendengarkan...";
              if (event.results[0].isFinal) {
                this.searchQuery = event.results[0][0].transcript;
                this.currentPage = 1;
                setTimeout(() => {
                  this.showVoicePopup = false;
                  document.body.classList.remove("modal-open");
                  if (document.querySelector(".modal-backdrop")) {
                    document.querySelector(".modal-backdrop").remove();
                  }
                }, 1000);
              }
            };
            recognition.onend = () => {
              if (this.voiceText === "Mendengarkan...") {
                this.voiceText = "Tidak ada suara terdeteksi";
                setTimeout(() => {
                  this.showVoicePopup = false;
                  document.body.classList.remove("modal-open");
                  if (document.querySelector(".modal-backdrop")) {
                    document.querySelector(".modal-backdrop").remove();
                  }
                }, 1000);
              }
            };
            recognition.onerror = (event) => {
              this.voiceText = "Error: " + event.error;
              setTimeout(() => {
                this.showVoicePopup = false;
                document.body.classList.remove("modal-open");
                if (document.querySelector(".modal-backdrop")) {
                  document.querySelector(".modal-backdrop").remove();
                }
              }, 1000);
              console.error("Voice recognition error:", event.error);
            };
            recognition.start();
          },
          loadSavedDoas() {
            const saved = localStorage.getItem("savedDoas");
            if (saved) this.savedDoas = JSON.parse(saved) || [];
          },
          saveDoas() {
            localStorage.setItem("savedDoas", JSON.stringify(this.savedDoas));
          },
        },
        mounted() {
          this.loadSavedDoas();
          this.fetchAllDoas();
          $("#detailModal").on("hidden.bs.modal", () => {
            this.detail = {
              id: null,
              judul: "Data Tidak Ditemukan",
              arab: "",
              latin: "(Latin tidak tersedia)",
              indo: "",
              source: "Sumber Tidak Tersedia",
            };
            this.loading2 = false;
            this.showShareOptions = false;
          });
        },
      });
    </script>
  </body>
</html>
